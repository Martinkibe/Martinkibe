{% load static %}
{% load custom_filters %}
<!DOCTYPE html>
<html lang="en" class="h-100">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, shrink-to-fit=9">
		<title>Serene</title>
		
		<!-- Favicon Icon -->
		<link rel="icon" type="image/png" href="{% static 'images/fav.png' %}">
		
		<!-- Stylesheets -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
		<link href="{% static 'vendor/unicons-2.0.1/css/unicons.css' %}" rel='stylesheet'>
		<link href="{% static 'css/style.css' %}" rel="stylesheet">
		<link href="{% static 'css/datepicker.min.css' %}" rel="stylesheet">
		<link href="{% static 'css/jquery-steps.css' %}" rel="stylesheet">
		<link href="{% static 'css/responsive.css' %}" rel="stylesheet">
		<link href="{% static 'css/night-mode.css' %}" rel="stylesheet">
		
		<!-- Vendor Stylesheets -->
		<link href="{% static 'vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet">
		<link href="{% static 'vendor/OwlCarousel/assets/owl.carousel.css' %}" rel="stylesheet">
		<link href="{% static 'vendor/OwlCarousel/assets/owl.theme.default.min.css' %}" rel="stylesheet">
		<link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
		<link href="{% static 'vendor/bootstrap-select/dist/css/bootstrap-select.min.css' %}" rel="stylesheet">		
		<link href="{% static 'vendor/ckeditor5/sample/css/sample.css' %}" rel="stylesheet">
		
	</head>

<body class="d-flex flex-column h-100">
	<!-- Header Start-->
	<header class="header">
		<div class="header-inner">
			<nav
				class="navbar navbar-expand-lg bg-barren barren-head navbar fixed-top justify-content-sm-start pt-0 pb-0">
				<div class="container">
					<button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
						data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
						<span class="navbar-toggler-icon">
							<i class="fa-solid fa-bars"></i>
						</span>
					</button>
					<a class="navbar-brand order-1 order-lg-0 ml-lg-0 ml-2 me-auto" href="#">
						<div class="res-main-logo">
							<img src="{% static 'images/logo-icon.svg' %}" alt="">
						</div>
						<div class="main-logo" id="logo">
							<img src="{% static 'images/logo.svg' %}" alt="">
							<img class="logo-inverse" src="{% static 'images/dark-logo.svg' %}" alt="">
						</div>
					</a>
					<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar"
						aria-labelledby="offcanvasNavbarLabel">
						<div class="offcanvas-header">
							<div class="offcanvas-logo" id="offcanvasNavbarLabel">
								<img src="{% static 'images/logo-icon.svg' %}" alt="">
							</div>
							<button type="button" class="close-btn" data-bs-dismiss="offcanvas" aria-label="Close">
								<i class="fa-solid fa-xmark"></i>
							</button>
						</div>
						<div class="offcanvas-body">
							{% if request.user.is_organizer %}
							<div class="offcanvas-top-area">
								<div class="create-bg">
									<a href="#" class="offcanvas-create-btn">
										<i class="fa-solid fa-calendar-days"></i>
										<span>Create Event</span>
									</a>
								</div>
							</div>
							{% else %}
							<div class="offcanvas-top-area">
								<div class="create-bg">
                                    <a href="#" class="offcanvas-create-btn">
                                        <i class="fa-solid fa-calendar-days"></i>
                                        <span>Search Events</span>
                                    </a>
                                </div>
							</div>
							{% endif %}
							<ul class="navbar-nav justify-content-end flex-grow-1 pe-5">
								<li class="nav-item">
									<a class="nav-link {% if request.path == home_url %}active{% endif %}" aria-current="page" href="{% url 'events:events' %}">Home</a>
								</li>
								<li class="nav-item">
									<a class="nav-link {% if request.path == explore_url %}active{% endif %}" href="{% url 'events:all-events' %}" role="button" aria-expanded="false">
										Explore Events
									</a>
								</li>
							</ul>
						</div>
						<div class="offcanvas-footer">
							<div class="offcanvas-social">
								<h5>Follow Us</h5>
								<ul class="social-links">
									<li><a href="#" class="social-link"><i class="fab fa-facebook-square"></i></a>
									<li><a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
									<li><a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
									<li><a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
									<li><a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
								</ul>
							</div>
						</div>
					</div>
					<div class="right-header order-2">
						<ul class="align-self-stretch">
							{% if request.user.is_organizer %}
							<li>
								<a href="{% url 'events:create' %}" class="create-btn btn-hover">
									<i class="fa-solid fa-calendar-days"></i>
									<span>Create Event</span>
								</a>
							</li>
							{% endif %}
							<li class="dropdown account-dropdown">
								<a href="#" class="account-link" role="button" id="accountClick"
									data-bs-auto-close="outside" data-bs-toggle="dropdown" aria-expanded="false">
									<img src="{% static 'images/profile-imgs/img-13.jpg' %}" alt="">
									<i class="fas fa-caret-down arrow-icon"></i>
								</a>
								<ul class="dropdown-menu dropdown-menu-account dropdown-menu-end"
									aria-labelledby="accountClick">
									<li>
										<div class="dropdown-account-header">
											<div class="account-holder-avatar">
												<img src="{% static 'images/profile-imgs/img-13.jpg' %}" alt="">
											</div>
											<p>{{request.user.email|capfirst}}</p>
										</div>
									</li>
									<li class="profile-link">
										<a href="{% url 'organizer_dashboard' %}" class="link-item">My Organisation</a>
										<a href="#" class="link-item">My Profile</a>
										{% if request.user.is_authenticated %}
										<a href="{% url 'account_logout' %}" class="link-item">Sign Out</a>
										{% else %}
										<a href="{% url 'account_login' %}" class="link-item">Sign In</a>
										{% endif %}

									</li>
								</ul>
							</li>
							<li>
								<div class="night_mode_switch__btn">
									<div id="night-mode" class="fas fa-moon fa-sun"></div>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</nav>
			<div class="overlay"></div>
		</div>
	</header>
	<!-- Header End-->
	<!-- Body Start-->
	<div class="wrapper">
		<div class="breadcrumb-block">
			<div class="container">
				<div class="row">
					<div class="col-lg-12 col-md-10">
						<div class="barren-breadcrumb">
							<nav aria-label="breadcrumb">
								<ol class="breadcrumb">
									<li class="breadcrumb-item"><a href="index.html">Home</a></li>
									<li class="breadcrumb-item"><a href="create.html">Create</a></li>
									<li class="breadcrumb-item active" aria-current="page">Create Online Event</li>
								</ol>
							</nav>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="event-dt-block p-80">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-lg-12 col-md-12">
						<div class="main-title text-center">
							<h3>Create Online Event</h3>
						</div>
					</div>
					<div class="col-xl-8 col-lg-9 col-md-12">
						<div class="wizard-steps-block">
							<div id="add-event-tab" class="step-app">
								<ul class="step-steps">
									<li class="active">
										<a href="#tab_step1">
											<span class="number"></span>
											<span class="step-name">Details</span>
										</a>
									</li>
									<li>
										<a href="#tab_step2">
											<span class="number"></span>
											<span class="step-name">Tickets</span>
										</a>
									</li>
									<li>
										<a href="#tab_step3">
											<span class="number"></span>
											<span class="step-name">Setting</span>
										</a>
									</li>
								</ul>
								<div class="step-content">
									<div class="step-tab-panel step-tab-info active" id="tab_step1"> 
										<div class="tab-from-content">
											<div class="main-card">
												<div class="bp-title">
													<h4><i class="fa-solid fa-circle-info step_icon me-3"></i>Details</h4>
												</div>
												<div class="p-4 bp-form main-form">
													<div class="row">
														<div class="col-lg-12 col-md-12">
                                                            <form method="post" enctype="multipart/form-data">
                                                            	{% csrf_token %}
                                                            	{{ form.non_field_errors }}
                                                                <div class="form-group border_bottom pb_30">
                                                                    <label class="form-label fs-16">Give your event a name.*</label>
                                                                    <p class="mt-2 d-block fs-14 mb-3">See how your name appears on the event page and a list of all places where your event name will be used. <a href="#" class="a-link">Learn more</a></p>
                                                                    <input class="form-control{% if form.event_name.errors %} is-invalid{% endif %}" id="event_name" name="event_name" type="text" placeholder="Enter event name here" value="">
                                                                    {% for error in form.event_name.errors %}
                                                                        <div id="event_name_error" class="invalid-feedback">{{ error }}</div>
                                                                    {% endfor %}
                                                                </div>
                                                                <div class="form-group border_bottom pt_30 pb_30">
                                                                    <label class="form-label fs-16">Choose a category for your event.*</label>
                                                                    <p class="mt-2 d-block fs-14 mb-3">Choosing relevant categories helps to improve the discoverability of your event. <a href="#" class="a-link">Learn more</a></p>
                                                                    <select class="selectpicker" multiple data-selected-text-format="count > 4" data-size="5" title="Select category" data-live-search="true">
                                                                        {% for category in form.categories.field.queryset %}
                                                                            <option value="{{ category.id }}"
                                                                                {% if category.id in form.categories.value %}
                                                                                    selected
                                                                                {% endif %}>
                                                                                {{ category.name }}
                                                                            </option>
                                                                        {% endfor %}
                                                                    </select>
                                                                    <div id="categories_error" class="invalid-feedback"></div>
                                                                </div>
                                                                <div class="form-group border_bottom pt_30 pb_30">
                                                                    <label class="form-label fs-16">When is your event?*</label>
                                                                    <p class="mt-2 fs-14 d-block mb-3">Tell your attendees when your event starts so they can get ready to attend.</p>
                                                                    <div class="row g-2">
                                                                        <div class="col-md-6">
                                                                            <label class="form-label mt-3 fs-6">Event Date.*</label>																
                                                                            <div class="loc-group position-relative">
                                                                                <input type="date" class="form-control{% if form.event_date.errors %} is-invalid{% endif %}" id="event_date" name="event_date" data-language="en" placeholder="MM/DD/YYYY" value="">
                                                                                {% for error in form.event_date.errors %}
                                                                                    <div id="event_date_error" class="invalid-feedback">{{ error }}</div>
                                                                                {% endfor %}
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6">																		
                                                                            <div class="row g-2">
                                                                                <div class="col-md-6">
                                                                                    <div class="clock-icon">
                                                                                        <label class="form-label mt-3 fs-6">Time</label>	
                                                                                        <input type="time" class="form-control{% if form.event_time.errors %} is-invalid{% endif %}" id="event_time" name="event_time" value="{{ form.event_time.value|default_if_none:'' }}" required>
                                                                                        {% for error in form.event_time.errors %}
                                                                                            <div id="event_time_error" class="invalid-feedback">{{ error }}</div>
                                                                                        {% endfor %}
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-6">
                                                                                    <label class="form-label mt-3 fs-6">Duration</label>	
                                                                                    <input type="text" class="form-control" id="event_duration" name="event_duration"
                                                                                        value="{{ form.event_duration.value|default_if_none:'' }}" required
                                                                                        pattern="\d{2}:\d{2}" title="Please enter a duration in the format HH:MM">
                                                                                    {% for error in form.event_duration.errors %}
                                                                                    <div id="event_duration_error" class="invalid-feedback">{{ error }}</div>
                                                                                    {% endfor %}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group pt_30 pb_30">
                                                                    <label class="form-label fs-16">Add an image to your event.</label>
                                                                    <p class="mt-2 fs-14 d-block mb-3 pe_right">Upload a colorful and vibrant image as the banner for your event! See how beautiful images help your event details page. <a href="#" class="a-link">Learn more</a></p>
                                                                    <div class="content-holder mt-4">
                                                                        <div class="default-event-thumb">   
                                                                            <div class="default-event-thumb-btn">
                                                                                <div class="thumb-change-btn">
                                                                                    <input type="file" class="custom-file-input{% if form.event_image.errors %} is-invalid{% endif %}" id="event_image" name="event_image">
                                                                                    <label for="event_image">Choose Image</label>
                                                                                </div>
                                                                            </div>
                                                                            <img src="{% static 'images/banners/custom-img.jpg' %}" alt="">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group border_bottom pb_30">
                                                                    <label class="form-label fs-16">Please describe your event.</label>
                                                                    <p class="mt-2 fs-14 d-block mb-3">Write a few words below to describe your event and provide any extra information such as schedules, itinerary or any special instructions required to attend your event.</p>
                                                                    <div class="text-editor mt-4">
                                                                        <textarea class="form-control{% if form.event_description.errors %} is-invalid{% endif %}"
                                                                            id="event_description" name="event_description" required>
                                                                            {{ form.event_description.value|default_if_none:'' }}
                                                                        </textarea>
                                                                        {% for error in form.event_description.errors %}
                                                                            <div class="invalid-feedback">{{ error }}</div>
                                                                        {% endfor %}
                                                                    </div>
                                                                </div>
                                                                <div class="form-group border_bottom pt_30 pb_30">
                                                                    <label class="form-label fs-16">Who is the Organizer?*</label>
                                                                    <p class="mt-2 fs-14 d-block mb-3">Tell your attendees who is your event organizer so they can get ready to attend.</p>
                                                                    <div class="row g-2">
                                                                        <div class="col-md-6">
                                                                            <label class="form-label mt-3 fs-6">Organizer Name.*</label>																
                                                                            <div class="loc-group position-relative">
                                                                                <input type="text"
                                                                                class="form-control{% if form.organizer_name.errors %} is-invalid{% endif %}"
                                                                                id="organizer_name" name="organizer_name"
                                                                                value="{{ form.organizer_name.value|default_if_none:'' }}" required>
                                                                                {% for error in form.organizer_name.errors %}
                                                                                    <div id="organizer_name_error" class="invalid-feedback">{{ error }}</div>
                                                                                {% endfor %}
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6">																		
                                                                            <div class="row g-2">
                                                                                <div class="col-md-6">
                                                                                    <div class="clock-icon">
                                                                                        <label class="form-label mt-3 fs-6">Organizer Email</label>	
                                                                                        <input type="email" class="form-control{% if form.organizer_email.errors %} is-invalid{% endif %}"
                                                                                        id="organizer_email" name="organizer_email"
                                                                                        value="{{ form.organizer_email.value|default_if_none:'' }}" required>
                                                                                        {% for error in form.organizer_email.errors %}
                                                                                            <div id="organizer_email_error" class="invalid-feedback">{{ error }}</div>
                                                                                        {% endfor %}
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-6">
                                                                                    <label class="form-label mt-3 fs-6">Organizer Phone</label>	
                                                                                    <input type="text"
                                                                                    class="form-control{% if form.organizer_phone.errors %} is-invalid{% endif %}"
                                                                                    id="organizer_phone" name="organizer_phone"
                                                                                    value="{{ form.organizer_phone.value|default_if_none:'' }}" required>
                                                                                    {% for error in form.organizer_phone.errors %}
                                                                                    <div id="organizer_phone_error" class="invalid-feedback">{{ error }}</div>
                                                                                    {% endfor %}
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group border_bottom pb_30">
                                                                    <label class="form-label fs-16">Provide a Url To your event.*</label>
                                                                    <p class="mt-2 d-block fs-14 mb-3">Input a valid Url leading to the Site Hosting Your Event. Start with, https//:www...<a href="#" class="a-link">Learn more</a></p>
                                                                    <input type="url"
                                                                    class="form-control{% if form.event_url.errors %} is-invalid{% endif %}"
                                                                    id="event_url" name="event_url"
                                                                    value="{{ form.event_url.value|default_if_none:'' }}" placeholder="Enter event URL here" required>
                                                                    {% for error in form.event_name.errors %}
                                                                        <div id="event_url_error" class="invalid-feedback">{{ error }}</div>
                                                                    {% endfor %}
                                                                </div>
                                                            </form>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									
									<div class="step-tab-panel step-tab-gallery" id="tab_step2">
										<div class="tab-from-content">
											<div class="main-card">
												<div class="bp-title">
													<h4><i class="fa-solid fa-ticket step_icon me-3"></i>Tickets</h4>
												</div>
												<div class="p-4 bp-form main-form">
												<form method="post">
													{% csrf_token %}
													<div class="form-group border_bottom pb_30">
														<div class="ticket-section">
															<label class="form-label fs-16">Let's create tickets!</label>
															<p class="mt-2 fs-14 d-block mb-3 pe_right">Add the ticket price and the number of your attendees. For free events, Check the Free Ticket Button.</p>
															<div class="content-holder">
																<div class="row g-3">
																	<div class="col-md-6 disabled-action">
																		<label class="form-label mt-3 fs-6">Price*</label>
																		<div class="loc-group position-relative input-group">
																			<input class="form-control{% if ticket_form.ticket_price.errors %} is-invalid{% endif %}" id="ticket_price" name="ticket_price" type="number" step="0.01" placeholder="Enter ticket price" value="{{ ticket_form.ticket_price.value|default_if_none:'' }}">
																			{% for error in ticket_form.ticket_price.errors %}
																				<div class="invalid-feedback">{{ error }}</div>
																			{% endfor %}
																			<div class="pp-select">
																				<select class="selectpicker dropdown-no-bg">
																					<option value="Kes" selected="selected">KES</option>
																				</select>
																			</div>
																		</div>
																	</div>
																	<div class="col-md-6">
																		<label class="form-label mt-3 fs-6">Total number of tickets available*</label>
																		<div class="input-number">
																			<input class="form-control{% if ticket_form.ticket_quantity.errors %} is-invalid{% endif %}" id="ticket_quantity" name="ticket_quantity" type="number" placeholder="Enter ticket quantity" value="{{ ticket_form.ticket_quantity.value|default_if_none:'' }}">
																			{% for error in ticket_form.ticket_quantity.errors %}
																				<div class="invalid-feedback">{{ error }}</div>
																			{% endfor %}
																		</div>
																	</div>
																</div>
															</div>
														</div>
														<div class="free-event pt_30">
															<div class="content-holder">
																<div class="form-group">
																	<div class="d-flex align-items-start">
																		<label class="btn-switch m-0 me-3">
																			<input type="checkbox" name="free_event_ticketing" id="free-event-ticketing" value="">
																			<span class="checkbox-slider"></span>
																		</label>
																		<div class="d-flex flex-column">
																			<label class="color-black fs-14 fw-bold mb-1">Tickets are free</label>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</form>
											</div>
											</div>
										</div>
									</div>
									 <div class="step-tab-panel step-tab-location" id="tab_step3">
										<div class="tab-from-content">											
											<div class="main-card">
												<div class="bp-title">
													<h4><i class="fa-solid fa-gear step_icon me-3"></i>Settings</h4>
												</div>
												<div class="p_30 bp-form main-form">
													<div class="form-group">
														<div class="ticket-section">
															<label class="form-label fs-16">Let's configure a few additional options for your event!</label>
															<p class="mt-2 fs-14 d-block mb-3 pe_right">Change the following settings based on your preferences to customise your event accordingly.</p>
															<div class="content-holder">
																<div class="setting-item border_bottom pb_30 pt-4">
																	<div class="d-flex align-items-start">
																		<label class="btn-switch m-0 me-3">
																			<input type="checkbox" class="" id="booking-start-time-btn" value="" checked>
																			<span class="checkbox-slider"></span>
																		</label>
																		<div class="d-flex flex-column">
																			<label class="color-black fw-bold mb-1">I want the bookings to start immediately.</label>
																			<p class="mt-2 fs-14 d-block mb-0">Disable this option if you want to start your booking from a specific date and time.</p>
																		</div>
																	</div>
																	<div class="booking-start-time-holder" style="display:none;">
																		<div class="form-group pt_30">
																			<label class="form-label fs-16">Booking starts on</label>
																			<p class="mt-2 fs-14 d-block mb-0">Specify the date and time when you want the booking to start.</p>
																			<div class="row g-3">
																				<div class="col-md-6">
																					<label class="form-label mt-3 fs-6">Event Date.*</label>																
																					<div class="loc-group position-relative">
																						<input class="form-control h_50 datepicker-here" data-language="en" type="text" placeholder="MM/DD/YYYY" value="">
																						<span class="absolute-icon"><i class="fa-solid fa-calendar-days"></i></span>
																					</div>
																				</div>
																				<div class="col-md-6">																		
																					<div class="clock-icon">
																						<label class="form-label mt-3 fs-6">Time</label>	
																						
																					</div>
																				</div>
																			</div>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>														   
								</div>
								<div class="step-footer step-tab-pager mt-4">
									<button type="button" data-direction="prev" class="btn btn-default btn-hover steps_btn">Previous</button>
									<button type="button" id="next_step1" data-direction="next" class="btn btn-default btn-hover steps_btn" onclick="validateStep1()">Next</button>
									<button type="submit" id="next_step2" data-direction="finish" data-url="{% url 'events:create-online-event' %}" class="btn btn-default btn-hover steps_btn complete" onclick="validateStep2()">Create</button>
								</div>
							</div>
						</div> 
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Body End-->
	 <script>
		// JavaScript function to validate the form fields for the first step
		function validateStep1() {
			var eventName = document.getElementById('event_name').value;
			var categories = document.querySelector('.selectpicker').value;
			var eventDate = document.getElementById('event_date').value;
			var eventTime = document.getElementById('event_time').value;
			var eventDuration = document.getElementById('event_duration').value;
			var organizerName = document.getElementById('organizer_name').value;
			var organizerEmail = document.getElementById('organizer_email').value;
			var organizerPhone = document.getElementById('organizer_phone').value;
			var eventUrl = document.getElementById('event_url').value;
			var isValid = true;

			document.getElementById('event_name_error').innerHTML = '';
			document.getElementById('categories_error').innerHTML = '';
			document.getElementById('event_date_error').innerHTML = '';
			document.getElementById('event_time_error').innerHTML = '';
			document.getElementById('event_duration_error').innerHTML = '';
			document.getElementById('organizer_name_error').innerHTML = '';
			document.getElementById('organizer_email_error').innerHTML = '';
			document.getElementById('organizer_phone_error').innerHTML = '';
			document.getElementById('event_url_error').innerHTML = '';

			if (eventName.trim() === '') {
				document.getElementById('event_name_error').innerHTML = 'Please enter event name.';
				isValid = false;
			}

			if (categories.length === 0) {
				document.getElementById('categories_error').innerHTML = 'Please select at least one category.';
				isValid = false;
			}

			if (eventDate.trim() === '') {
				document.getElementById('event_date_error').innerHTML = 'Please select event date.';
				isValid = false;
			}

			if (eventTime.trim() === '') {
				document.getElementById('event_time_error').innerHTML = 'Please select event time.';
				isValid = false;
			}

			if (eventDuration.trim() === '') {
				document.getElementById('event_duration_error').innerHTML = 'Please enter event duration.';
				isValid = false;
			}

			if (organizerName.trim() === '') {
				document.getElementById('organizer_name_error').innerHTML = 'Please enter organizer name.';
				isValid = false;
			}

			if (organizerEmail.trim() === '') {
				document.getElementById('organizer_email_error').innerHTML = 'Please enter organizer email.';
				isValid = false;
			} else if (!isValidEmail(organizerEmail)) {
				document.getElementById('organizer_email_error').innerHTML = 'Please enter a valid email address.';
				isValid = false;
			}

			if (organizerPhone.trim() === '') {
				document.getElementById('organizer_phone_error').innerHTML = 'Please enter organizer phone number.';
				isValid = false;
			}

			if (eventUrl.trim() === '') {
				document.getElementById('event_url_error').innerHTML = 'Please enter event URL.';
				isValid = false;
			} else if (!isValidUrl(eventUrl)) {
				document.getElementById('event_url_error').innerHTML = 'Please enter a valid URL.';
				isValid = false;
			}

			return isValid;
		}

		function isValidEmail(email) {
			var re = /\S+@\S+\.\S+/;
			return re.test(email);
		}

		function isValidUrl(url) {
			var re = /^(ftp|http|https):\/\/[^ "]+$/;
			return re.test(url);
		}

		// Attach event listener to the "Next" button in the first step
		document.getElementById('next_step1').addEventListener('click', function(event) {
			if (!validateStep1()) {
				event.preventDefault(); // Prevent moving to the next step if validation fails
			}
		});


		// JavaScript function to validate the form fields for the second step
		function validateStep2() {
			var price = document.getElementById('id_price').value;
			var quantity = document.getElementById('id_quantity').value;
			var isValid = true;

			// Reset validation classes and messages
			document.getElementById('id_price').classList.remove('is-invalid');
			document.getElementById('id_quantity').classList.remove('is-invalid');
			document.getElementById('priceFeedback').innerHTML = '';
			document.getElementById('quantityFeedback').innerHTML = '';

			if (price.trim() === '') {
				document.getElementById('id_price').classList.add('is-invalid');
				document.getElementById('priceFeedback').innerHTML = 'Please enter ticket price.';
				isValid = false;
			} else if (isNaN(price)) {
				document.getElementById('id_price').classList.add('is-invalid');
				document.getElementById('priceFeedback').innerHTML = 'Ticket price must be a number.';
				isValid = false;
			}

			if (quantity.trim() === '') {
				document.getElementById('id_quantity').classList.add('is-invalid');
				document.getElementById('quantityFeedback').innerHTML = 'Please enter total number of tickets available.';
				isValid = false;
			} else if (isNaN(quantity)) {
				document.getElementById('id_quantity').classList.add('is-invalid');
				document.getElementById('quantityFeedback').innerHTML = 'Total number of tickets must be a number.';
				isValid = false;
			}

			return isValid;
		}

		// Attach event listener to the "Next" button in the second step
		document.getElementById('next_step2').addEventListener('click', function(event) {
			if (!validateStep2()) {
				event.preventDefault(); // Prevent moving to the next step if validation fails
			}
		});
	 </script>
	 <script>
		$('#add-event-tab').steps({
			onFinish: function () {
				// Validate form fields in step 1
				if (!validateStep1()) {
					return false; // Prevent form submission if validation fails
				}

				if (!validateStep2()) {
					return false; // Prevent form submission if validation fails
                }
	
				// Serialize form data
				var formData = new FormData($('form')[0]);
				var url = $('#next_step2').data('url');
				// Submit form data via AJAX
				$.ajax({
					url: url,
					type: 'POST',
					data: formData,
					processData: false,
					contentType: false,
					success: function (response) {
						// Handle success response
						console.log(response);
					},
					error: function (xhr, status, error) {
						// Handle error
						console.error(xhr.responseText);
					}
				});
	
				return true; // Allow form submission
			}
		});
	</script>
	<!-- Footer Start-->
	<footer class="footer mt-auto">
		<div class="footer-top">
			<div class="container">
				<div class="row">
					<div class="col-lg-3 col-md-6">
						<div class="footer-content">
							<h4>Company</h4>
							<ul class="footer-link-list">
								<li><a href="about_us.html" class="footer-link">About Us</a></li>
								<li><a href="help_center.html" class="footer-link">Help Center</a></li>
								<li><a href="faq.html" class="footer-link">FAQ</a></li>
								<li><a href="contact_us.html" class="footer-link">Contact Us</a></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-3 col-md-6">
						<div class="footer-content">
							<h4>Useful Links</h4>
							<ul class="footer-link-list">
								<li><a href="create.html" class="footer-link">Create Event</a></li>
								<li><a href="sell_tickets_online.html" class="footer-link">Sell Tickets Online</a></li>
								<li><a href="privacy_policy.html" class="footer-link">Privacy Policy</a></li>
								<li><a href="term_and_conditions.html" class="footer-link">Terms & Conditions</a></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-3 col-md-6">
						<div class="footer-content">
							<h4>Resources</h4>
							<ul class="footer-link-list">
								<li><a href="pricing.html" class="footer-link">Pricing</a></li>
								<li><a href="our_blog.html" class="footer-link">Blog</a></li>
								<li><a href="refer_a_friend.html" class="footer-link">Refer a Friend</a></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-3 col-md-6">
						<div class="footer-content">
							<h4>Follow Us</h4>
							<ul class="social-links">
								<li><a href="#" class="social-link"><i class="fab fa-facebook-square"></i></a>
								<li><a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
								<li><a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
								<li><a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
								<li><a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
							</ul>
						</div>
						<div class="footer-content">
							<h4>Download Mobile App</h4>
							<div class="download-app-link">
								<a href="#" class="download-btn"><img src="{% static 'images/app-store.png' %}" alt=""></a>
								<a href="#" class="download-btn"><img src="{% static 'images/google-play.png' %}" alt=""></a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="footer-bottom">
			<div class="container">
				<div class="row">
					<div class="col-12">
						<div class="footer-copyright-text">
							<p class="mb-0">© 2024, <strong>Serene</strong>. All rights reserved.</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</footer>
	<!-- Footer End-->
	
	
	<script src="{% static 'js/jquery.min.js' %}"></script>
	<script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
	<script src="{% static 'vendor/OwlCarousel/owl.carousel.js' %}"></script>
	<script src="{% static 'vendor/bootstrap-select/dist/js/bootstrap-select.min.js' %}"></script>	
	<script src="{% static 'vendor/ckeditor5/ckeditor.js' %}"></script>
	<script src="{% static 'js/jquery-steps.min.js' %}"></script>
	<script src="{% static 'js/datepicker.min.js' %}"></script>
	<script src="{% static 'js/i18n/datepicker.en.js' %}"></script>
	<script src="{% static 'js/custom.js' %}"></script>
	<script src="{% static 'js/night-mode.js' %}"></script>	
	
	<script>
		ClassicEditor
		.create( document.querySelector( '#event_description' ), {
			// toolbar: [ 'heading', '|', 'bold', 'italic', 'link' ]
		} )
		.then( editor => {
			window.editor = editor;
		} )
		.catch( err => {
			console.error( err.stack );
		} );
	</script>
</body>
</html>